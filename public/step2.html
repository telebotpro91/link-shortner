<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Link - Step 2</title>
    <style>
        :root { --primary: #4facfe; --secondary: #00f2fe; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; margin: 0; padding: 15px; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); width: 100%; max-width: 450px; text-align: center; }
        .timer-circle { width: 70px; height: 70px; border-radius: 50%; border: 5px solid #f3f3f3; border-top: 5px solid #4facfe; margin: 15px auto; display: flex; align-items: center; justify-content: center; font-size: 22px; font-weight: bold; color: #4facfe; }
        .ad-box { background: #f8f9fa; border: 2px dashed #ddd; border-radius: 12px; margin: 15px 0; padding: 10px; cursor: pointer; min-height: 100px; display: flex; flex-direction: column; align-items: center; }
        .btn { background: #4facfe; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; width: 100%; display: none; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
        .status { font-size: 14px; margin-top: 10px; font-weight: 500; }
        .error { color: #e53e3e; } .success { color: #38a169; }
    </style>
    <script src="https://pl28542944.effectivegatecpm.com/40/c8/4c/40c84ca0c77588a2cd139d333225bb96.js"></script>
</head>
<body>
    <div class="card">
        <div style="margin-bottom:15px;">
            <script type="text/javascript">
                atOptions = { 'key' : '584fb5f5cbfbfa6c910b9702ff0b48a1', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/584fb5f5cbfbfa6c910b9702ff0b48a1/invoke.js"></script>
        </div>

        <h2>Step 2 of 3</h2>
        <p style="color: #666; font-size:14px;">Almost there! Click ad to continue.</p>
        
        <div class="timer-circle" id="timer">12</div>

        <div class="ad-box" onclick="verifyAd()">
            <p style="margin-bottom:10px; font-size: 12px; color: #999;">[ CLICK AD TO UNLOCK ]</p>
            <script type="text/javascript">
                atOptions = { 'key' : '3ea0e02d8e1d3eefe687191f9e6bcf16', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/3ea0e02d8e1d3eefe687191f9e6bcf16/invoke.js"></script>
        </div>

        <button id="btn" class="btn" onclick="next()" disabled>Verify Ad Click First</button>
        <div id="msg" class="status error">Ad Click Required</div>
    </div>

    <script>
        let time=12, clicked=false;
        const t=document.getElementById('timer'), b=document.getElementById('btn'), m=document.getElementById('msg');
        const count = setInterval(() => {
            time--; t.innerText = time;
            if(time <= 0) { clearInterval(count); t.style.display='none'; check(); }
        }, 1000);
        function verifyAd() { clicked=true; m.innerText="âœ… Verified!"; m.className="status success"; check(); }
        function check() { if(time <= 0) { b.style.display='block'; if(clicked) { b.disabled=false; b.innerText="Go to Final Step"; } } }
        function next() { const p = new URLSearchParams(window.location.search); window.location.href=`step3.html?dest=${p.get('dest')}`; }
        window.onfocus = () => { if(clicked) check(); };
    </script>
</body>
</html>
