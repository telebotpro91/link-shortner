<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification Step 1</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; padding: 20px; }
        .container { background: white; padding: 30px; border-radius: 10px; max-width: 500px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .ad-slot { margin: 20px 0; min-height: 100px; background: #eee; display: flex; align-items: center; justify-content: center; border: 1px dashed #ccc; }
        #next-btn { background: #007bff; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; display: none; width: 100%; font-size: 18px; }
        #next-btn:disabled { background: #ccc; cursor: not-allowed; }
        .status-msg { color: #d9534f; font-weight: bold; margin-top: 10px; }
    </style>

    <script src="https://pl28493978.effectivegatecpm.com/86/46/73/86467339261b3657a5783476d40e3caa.js"></script>
</head>
<body>

    <div class="container">
        <h2>Step 1: Verify to Unlock</h2>
        
        <div class="ad-slot" onclick="registerClick()">
            <p>Click this Ad to Unlock Button</p>
            </div>

        <div id="timer-box">
            <p>Please wait <span id="seconds">15</span> seconds...</p>
        </div>

        <button id="next-btn" onclick="goToNext()" disabled>Click Ad to Continue</button>
        <p id="click-msg" class="status-msg">Button Locked: You must click an ad first!</p>

        <div class="ad-slot" onclick="registerClick()">
            <script data-cfasync='false'>
                // Aapka dusra script yahan paste hai
                function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=417489,O='a3klsam'; /* ... rest of your script ... */ } /* simplified for display */ }));
            </script>
        </div>
    </div>

    <script>
        let timeLeft = 15;
        let adClicked = false;
        const timerElement = document.getElementById('seconds');
        const nextBtn = document.getElementById('next-btn');
        const clickMsg = document.getElementById('click-msg');

        // Countdown Timer
        const countdown = setInterval(() => {
            timeLeft--;
            timerElement.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdown);
                document.getElementById('timer-box').innerHTML = "<b>Timer Finished!</b>";
                checkConditions();
            }
        }, 1000);

        // Ad click track karne ke liye function
        function registerClick() {
            adClicked = true;
            clickMsg.style.color = "green";
            clickMsg.textContent = "✅ Ad Clicked! Now wait for timer.";
            checkConditions();
        }

        // Check conditions (Timer + Click)
        function checkConditions() {
            if (timeLeft <= 0) {
                nextBtn.style.display = "block";
                if (adClicked) {
                    nextBtn.disabled = false;
                    nextBtn.textContent = "Continue to Step 2";
                    clickMsg.textContent = "✅ All set! Click the button.";
                } else {
                    nextBtn.disabled = true;
                    nextBtn.textContent = "Click Ad to Unlock";
                }
            }
        }

        // Next page par jane ke liye
        function goToNext() {
            const urlParams = new URLSearchParams(window.location.search);
            const dest = urlParams.get('dest');
            window.location.href = `step2.html?dest=${dest}`;
        }

        // Window focus detect karna (User ad pe click karke wapas aaya)
        window.onfocus = function() {
            if(adClicked) checkConditions();
        };
    </script>
</body>
</html>
